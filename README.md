# SmartKB-智能知识库系统

## 1. 系统概述

智能助手系统(SmartKB)是一个基于大语言模型的全方位智能知识管理平台，集成了多模态处理、智能生成、实时交互和协作管理等核心功能。该系统不仅是一个信息检索工具，更是一个能够理解、创造和交互的智能认知体。

### 核心特性

#### 多模态智能中枢

- **全媒介支持**：突破传统文本限制，实现文本、图像、音频、视频的全方位理解和生成
- **跨模态融合**：支持图文混排分析、音视频同步处理、多媒体内容描述等复杂交互
- **实时感知系统**：集成语音识别与合成模块，实现自然流畅的人机对话体验

#### 智能知识引擎

- **动态知识库**：支持文档上传、网页抓取、数据库对接等多渠道知识采集
- **智能索引体系**：采用先进向量数据库技术，实现毫秒级精准检索
- **深度语义解析**：基于大语言模型的理解能力，支持概念关联、上下文推理等高级查询

#### 创意生产力工具

- **内容生成工厂**：
  - 文本创作：文章、报告、文案等智能撰写
  - 视觉设计：根据描述生成创意图片
  - 视频制作：从脚本文案到成品视频的全流程生成
- **媒体编辑中心**：
  - 图像重构：局部重绘、风格迁移、画质增强
  - 视频合成：特效添加、场景重组、音画同步
  - 音频处理：语音克隆、背景消除、音乐生成

#### 开放生态系统

- **模型集市**：支持主流大模型插件式接入
- **API网关**：提供标准接口供第三方系统集成
- **本地部署**：支持私有化部署，满足不同场景需求

## 2. 系统架构

### 2.1 技术栈

### 2.2 核心模块

## 3. 功能模块详解

### 3.1 注册登录

- **管理员账户**：预设账号，可管理用户
- **普通用户**：需管理员创建，可修改密码、管理APIKEY
- **安全机制**：密码加密存储，会话管理

### 3.2 增强检索

- **模型选择**：支持多种语言模型和嵌入模型
- **检索模式**：
  - 普通检索：基于本地知识库的语义检索
  - 联网搜索：结合互联网信息的查询
  - 深度思考：启用复杂推理能力的查询模式
- **对话管理**：支持多轮对话、历史查看、对话清除
- **智能代理**：
  - 教育智能体：可执行知识查询、知识生成、知识问答
  - IVAgent：综合智能代理，可执行查询、生成多媒体内容
  - 深入研究：面向复杂研究任务的高级智能体系统

### 3.3 图文解答

- **图像理解**：支持上传图片进行问答
- **文档理解**：支持上传文档进行问答
- **OCR识别**：多种OCR任务支持（通用文字识别、表格解析、公式识别等）
- **视觉推理**：基于图像的复杂推理能力

### 3.4 理解生成

- **图像生成**：
  - 文生图：根据文本描述生成图像
  - 图像编辑：基于参考图的图像修改(单图或多图实现基于主体一致性的图像编辑、多图融合创作、组图生成)

- **视频生成**：
  - 声动人像:可基于人物视频和人声音频，生成人物讲话口型与输入音频相匹配的新视频（时长2m）
  - 悦动人像:可基于人物肖像图片和人声音频文件生成人物肖像动态视频(时长60s)。
  - 灵动人像:可基于人物肖像图片和人声音频文件，快速、轻量化地生成人物肖像动态视频(时长5m)
  - 舞动人像:可基于人物图片和动作模板生成人物全身动作视频(时长60s)
  - 数字人:可基于单张图片和音频，生成动作自然的说话、唱歌或表演视频（20s）
  - 视频生成:可根据文本生成无声视频（5s）/可根据文本或首帧生成有声视频（10s）
  - 视频换人:可依据人物图片和参考视频，将视频中的主角替换为图片中的角色，同时保留原视频的场景(时长30s)
  - 图生动作:可基于人物图片和参考视频，生成人物动作视频(时长30s)
- **音频处理**：
  - 语音合成：多种音色选择的文本转语音（2000字符）
  - 语音识别：音频转文本（时长3m）
  - 声音复刻：个性化音色创建  
- **多模态理解**：支持文本+图像/音频/视频的综合理解

### 3.5 知识管理

- **知识库管理**：
  - 文档上传：支持多种格式（TXT、MD、PDF、DOC、DOCX、HTML、JSON、CSV、XLS、XLSX、PPT、PPTX）
  - 网页提取：从URL提取内容加入知识库
  - 文档删除：从知识库中移除文档
- **用户文件管理**：
  - 文件上传、下载、查看、删除、重命名
  - 目录管理

### 3.6 历史保存

- 查看和管理用户保存的历史文件
- 支持多种格式文件的在线预览

### 3.7 实时语音

- **实时语音对话**：通过麦克风进行语音交互
- **实时视频理解**：通过摄像头进行视觉交互
- **对话管理**：支持对话重置和历史查看

## 4. 安装部署

### 4.1 环境要求

- Python 3.10+
- CUDA 11.7+(GPU加速推荐)
- 系统依赖：

  ```bash
  # Windows额外依赖
  choco install ffmpeg
  ```

### 4.2 安装步骤

1. 获取代码：

   ```bash
   git clone [SmartKB]
   cd PKBX
   ```

2. 安装依赖：

   ```bash
   pip install -r requirements.txt
   ```

3. 配置环境：
   - 自动生成API密钥配置文件
   - 自动生成数据库路径

### 4.3 启动系统

```bash
python SmartKB.py
```

访问 `http://localhost:7862`

## 5. 常见问题

### API密钥和模型

- 使用本地模型：不需要填写API密钥
- 使用云端模型：用户需要填写API密钥

## 部署IP限制

- 复刻声音：需要公网URL

### 文档问题

- 上传失败：检查格式/大小限制
- 索引错误：重新上传文档

### 性能问题

- 响应慢：切换更高性能模型
- 卡顿：检查GPU利用率

### 备份恢复

- 定期备份`chroma_db`目录
- 重要文档单独保存

## 6. 技术支持

- 文档更新：关注项目README
- 问题反馈：[项目Issue]
- 联系方式：<youufis@sina.com>

---

**文档版本**：v10.0
**更新日期**：2025-12
# SmartKB
